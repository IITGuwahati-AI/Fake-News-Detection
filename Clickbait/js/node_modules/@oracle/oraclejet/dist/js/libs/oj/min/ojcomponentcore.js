/**
 * @license
 * Copyright (c) 2014, 2019, Oracle and/or its affiliates.
 * The Universal Permissive License (UPL), Version 1.0
 */
define(["ojs/ojcore","ojs/ojtranslation","jquery","ojs/ojmessaging","ojs/ojlogger","jqueryui-amd/widget","jqueryui-amd/unique-id","jqueryui-amd/keycode","jqueryui-amd/focusable","jqueryui-amd/tabbable","ojs/ojcustomelement"],function(t,e,n,i,o){"use strict";t.Components={};t.Components;t.Components._OJ_CONTAINER_ATTR="data-oj-container";var s="oj-component-names",r="oj-component-initnode",a="oj-subtree-hidden",l="oj-pending-subtree-hidden";function u(t,e){var i=function(){var t=n(this),i=t.data(s);if(null!=i)for(var o=0;o<i.length;o++){var r=t.data("oj-"+i[o]);null!=r&&e(r)}},o=n(t);o.hasClass(r)&&i.call(t),o.find("."+r).each(i)}function c(t,e,i){function o(t){if(e&&t.classList.contains(r)){var o=n(t),a=o.data(s);if(null!=a)for(var l=0;l<a.length;l++){var u=o.data("oj-"+a[l]);null!=u&&e(u)}}i&&"oj-defer"===t.tagName.toLowerCase()&&t._activate()}if(!function(t){for(var e=t;e;){if(e.nodeType===Node.DOCUMENT_NODE)return!1;if(e.classList.contains(a))return!0;e=e.parentNode}return!0}(t)){o(t);var u=["."+r];i&&u.push("oj-defer");var c=[];u.forEach(function(t){c.push("."+a+" "+t),c.push("."+l+" "+t)});for(var g=u.join(","),h=c.join(","),d=function(t,e){for(var n=[],i=0,o=0;o<e.length;o++){for(var s=e[o];i<t.length&&t[i]!==s;)n.push(t[i]),i+=1;i+=1}for(;i<t.length;)n.push(t[i]),i+=1;return n}(t.querySelectorAll(g),t.querySelectorAll(h)),p=0;p<d.length;p++)o(d[p])}}function g(t){this.getCallback=function(){return t}}function h(t,e,n){return Object.keys(e).forEach(function(i){var o=t[i]||[],s=e[i];n?o=o.concat(s):o.push(s),t[i]=o}),t}function d(e){return t.BaseCustomElementBridge.getRegistered(e.tagName)}function p(e){return!!t.Components.__GetWidgetConstructor(e)}function _(t){return d(t)||p(t)}t.Components.setDefaultOptions=function(e){var n=t.Components._defaultProperties||{};Object.keys(e).forEach(function(i){var o=e[i];if(!t.CollectionUtils.isPlainObject(o))throw new Error("Invalid default options");n[i]=h(n[i]||{},o,!1)}),t.Components._defaultProperties=n},t.Components.getDefaultOptions=function(){return t.Components._defaultProperties||{}},t.Components.createDynamicPropertyGetter=function(t){return new g(t)},t.Components.getWidgetConstructor=function(e,n){return e&&!t.BaseCustomElementBridge.getRegistered(e.tagName)?t.Components.__GetWidgetConstructor(e,n):null},t.Components.__GetWidgetConstructor=function(t,e){var i=n(t),o=i.data(s);if(o&&(null==e?e=o[0]:o.indexOf(e)<0&&(e=void 0),null!=e)){var r=i[e];if("function"==typeof r)return r.bind(i)}return null},t.Components.subtreeAttached=function(e){t.DomUtils.fixResizeListeners(e),u(e,function(t){t.__handleSubtreeAttached()})},t.Components.subtreeDetached=function(t){u(t,function(t){t.__handleSubtreeDetached()})},t.Components.subtreeShown=function(e,i){var o=(i||{}).initialRender;o||t.DomUtils.fixResizeListeners(e);var s=n(e)[0];s.classList.remove(a),c(s,function(t){o?t._NotifyInitShown():t._NotifyShown()},!0)},t.Components.subtreeHidden=function(t){var e=n(t)[0];c(e,function(t){t._NotifyHidden()},!1),e.classList.add(a)},t.Components.markPendingSubtreeHidden=function(t){t.classList.add(l)},t.Components.unmarkPendingSubtreeHidden=function(t){t.classList.remove(l)},t.Components.isComponentInitialized=function(t,e){var i=t.data(s);return!!(n.isArray(i)&&i.indexOf(e)>-1&&t.is("."+r))},t.Components.__getDefaultOptions=function(e){for(var n={},i=t.Components.getDefaultOptions(),o=e.length-1;o>=0;o--){var s=i[e[o]];void 0!==s&&(n=h(n,s,!0))}return n},t.Components.getComponentElementByNode=function(e){return function e(n,i){if(null==n)return null;var o=1===n.nodeType;var s=t.Composite&&!i?t.Composite.getContainingComposite(n):null;if(s)return s;if(o&&n.hasAttribute("data-oj-internal"))return n.parentNode instanceof Element&&n.parentNode.hasAttribute("data-oj-surrogate-id")?(n=document.querySelector("[data-oj-popup-"+n.id+"-parent]"),e(n,i)):e(n.parentNode,i);if(_(n))return n;if(o&&n.classList.contains("oj-component")){if(p(n=n.querySelector(".oj-component-initnode:not([data-oj-internal])")||n))return n}else if(o&&n.hasAttribute("data-oj-containerid"))return n=document.getElementById(n.getAttribute("data-oj-containerid")),e(n,i);return e(n.parentNode,i)}(e,!!(arguments.length>1&&arguments[1]))},t.Components.getSubIdByNode=function(e,n){return t.Components.callComponentMethod(e,"getSubIdByNode",n)},t.Components.getNodeBySubId=function(e,n){return t.Components.callComponentMethod(e,"getNodeBySubId",n)},t.Components.getComponentOption=function(e,n){if(!_(e))throw new Error("node is not a component element");return d(e)?e.getProperty?e.getProperty.call(e,n):void 0:t.Components.__GetWidgetConstructor(e)("option",n)},t.Components.setComponentOption=function(e,n,i){if(!_(e))throw new Error("node is not a component element");d(e)?e.setProperty&&e.setProperty.call(e,n,i):t.Components.__GetWidgetConstructor(e)("option",n,i)},t.Components.callComponentMethod=function(e,i,o){if(!_(e))throw new Error("node is not a component element");return d(e)?e[i]?e[i].apply(e,[].slice.call(arguments,2)):void 0:t.Components.__GetWidgetConstructor(e).apply(n(e),[].slice.call(arguments,1))};var m,f={isDefaultPrevented:function(){return!1},preventDefault:function(){this.isDefaultPrevented=A},stopPropagation:function(){this.isPropagationStopped=A},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=A}};function E(t,e,n,i,o,s,r){var a=n,l=!1,u={};delete i[o],Object.defineProperty(i,o,{get:function(){if(l)return a;if(null!=t._settingNestedKey)return a;var n=s(r?r():o);return C([e,n,a],u)},set:function(e){a=e,null!=t._settingNestedKey?u[t._settingNestedKey]=!0:l=!0},enumerable:!0})}function v(t){if(1===t.length){var e=t[0];return e instanceof g?e.getCallback():null}for(var n=!1,i=0;i<t.length&&!n;i++){var o=t[i];null!=o&&o instanceof g&&(n=!0)}if(n){return function(e){var n=[];return t.forEach(function(t){null!=t&&t instanceof g?n.push(t.getCallback()(e)):n.push(t)}),C(n)}}return null}function C(t,e){for(var i,o=0;o<t.length;o++){var s=t[o];if(void 0!==s)if(n.isPlainObject(s))i=y({},n.isPlainObject(i)?[i,s]:[s],o===t.length-1?null:e,null);else i=s}return i}function y(t,e,i,o){for(var s=e.length,r=0;r<s;r++)for(var a=e[r],l=Object.keys(a),u=0;u<l.length;u++){var c,g=l[u];if(c=null==i?null:null==o?g:o+"."+g,null==i||!i[c]){var h=a[g];if(void 0!==h)if(n.isPlainObject(h)){var d=n.isPlainObject(t[g])?[t[g],h]:[h];t[g]=y({},d,i,c)}else t[g]=h}}return t}function A(){return!0}n.widget("oj.baseComponent",{options:{contextMenu:null,rootAttributes:null,optionChange:void 0,destroy:void 0},refresh:function(){this._propertyContext=null,this._SetupContextMenu()},_createWidget:function(t,e){t&&(this.OuterWrapper=t._wrapper),this._originalDefaults=this.options||{},this._constructorOptions=t||{},this._super(t,e),this._AfterCreateEvent()},_SetRootAttributes:function(){var t=this.options.rootAttributes;if(t){var e=this.widget();if(null==e)return;var i=t.class;i&&e.addClass(i);var o=t.style;if(o){var s=e.attr("style");s?e.attr("style",s+";"+o):e.attr("style",o)}delete(t=n.extend({},t)).class,delete t.style,e.attr(t),delete t.id;var r=Object.keys(t);if(r.length)throw new Error("Unsupported values passed to rootAttributes option: "+r.toString())}},_create:function(){this._SaveAttributes(this.element),this._InitOptions(this._originalDefaults,this._constructorOptions),delete this._originalDefaults,delete this._constructorOptions,this._ComponentCreate(),this._AfterCreate(),this._SetupResources(),this.element.addClass(r)},_InitOptions:function(t,e){this._setupDefaultOptions(t,e),this._initContextMenuOption(e)},_ComponentCreate:function(){var t,e,n;t=this.element,e=this.widgetName,(n=t.data(s))||(n=[],t.data(s,n)),n.indexOf(e)<0&&n.push(e),this.activeableEventNamespace=this.eventNamespace+"activeable",this.hoverableEventNamespace=this.eventNamespace+"hoverable"},_AfterCreate:function(){this._SetRootAttributes(),this.contextMenuEventNamespace=this.eventNamespace+"contextMenu",this.activeableEventNamespace=this.eventNamespace+"activeable",this.hoverableEventNamespace=this.eventNamespace+"hoverable"},_AfterCreateEvent:n.noop,_setOptionClasses:function(){},_setOptionDisabled:function(){},_classes:function(){return""},_removeClass:function(){return this},_addClass:function(){return this},_toggleClass:function(){return this},_SaveAttributes:function(t){},_SaveAllAttributes:function(t){var e=this;this._savedAttributes=[],n.each(t,function(t,i){var o={},s={element:i,attributes:o},r=i.attributes;e._savedAttributes.push(s),n.each(r,function(t,e){var n=e.name;o[n]={attr:e.value}})})},_GetSavedAttributes:function(t){var e=this._savedAttributes;if(void 0===e)return null;for(var n=t[0],i=0,o=e.length;i<o;i++){var s=e[i];if(s.element===n)return s.attributes}return{}},_RestoreAttributes:function(){},_RestoreAllAttributes:function(){n.each(this._savedAttributes,function(t,e){var i=n(e.element),o=e.attributes;if(1===i.length){var s,r,a=e.element.attributes,l=[];for(s=0,r=a.length;s<r;s++)a[s].name in o||l.push(a[s].name);for(s=0,r=l.length;s<r;s++)i.removeAttr(l[s]);var u=Object.keys(o);for(s=0;s<u.length;s++){var c=u[s];i.attr(c,o[c].attr)}}})},_GetTranslationsSectionName:function(){return this.widgetFullName},_CompareOptionValues:function(e,n,i){return this._IsCustomElement()&&this._getWritebackOption(e)?t.Object.compareValues(n,i):n===i},getTranslatedString:function(t,n){var i={};arguments.length>2?i=Array.prototype.slice.call(arguments,1):2===arguments.length&&("object"==typeof(i=arguments[1])||i instanceof Array||(i=[i]));var o=this.option("translations."+t);return null==o?t:e.applyParameters(o.toString(),i)},getNodeBySubId:function(t){return null!=t&&null!=t.subId||!this.element?null:this.element[0]},getSubIdByNode:function(t){return null},destroy:function(){if(this._IsCustomElement())throw new Error("destroy cannot be called on a custom element");this._trigger("destroy"),t.DomUtils.dispatchEvent(this.element[0],new CustomEvent("_ojDestroy")),this._ReleaseResources(),this._super(),this.element.removeClass(r),this.widget().removeClass("oj-disabled"),this._removeStateClasses(this.element),function(t,e){var n=t.data(s);if(n){var i=n.indexOf(e);i>=0&&(n.splice(i,1),0===n.length&&t.removeData(s))}}(this.element,this.widgetName),this._RestoreAttributes(),this._initialCmDomAttr?this.element.attr("contextmenu",this._initialCmDomAttr):this.element.removeAttr("contextmenu"),this._propertyContext=null},option:function(e,i){if(0===arguments.length)return n.widget.extend({},this.options);var s,r=arguments[0],a=r,l=null,u={};if("string"==typeof r){a={};var c=r.split(".");if(r=c.shift(),c.length){var g;l=c.join(".");try{arguments.length>1&&(this._settingNestedKey=l),g=n.widget.extend({},this.options[r]),a[r]=g}finally{this._settingNestedKey=null}for(s=0;s<c.length-1;s++)g[c[s]]=g[c[s]]||{},g=g[c[s]];if(r=c.pop(),1===arguments.length)return void 0===g[r]?null:g[r];g[r]=i}else{if(1===arguments.length)return void 0===this.options[r]?null:this.options[r];a[r]=i}u=arguments[2]||u}else u=arguments[1]||u;if(null!=l){var h={path:e,value:i};u=n.widget.extend({},u,{subkey:l,subproperty:h})}var d=u?u._context:null,p=!!d&&d.internalSet,_={},m=Object.keys(a);for(s=0;s<m.length;s++){var f=m[s],E=a[f],v=this.options[f];u&&u.changed||!this._CompareOptionValues(f,v,E)?_[f]=E:this._IsCustomElement()&&o.info(t.BaseCustomElementBridge.getElementInfo(this.element[0])+": Ignoring property set for property '"+f+"' with same value.")}return Object.keys(_).length>0&&(p?this._internalSetOptions(_,u):this._setOptions(_,u)),this},_internalSetOptions:function(t,e){for(var n=Object.keys(t),i=0;i<n.length;i++){var o=n[i],s=t[o],r=this.options[o];this.options[o]=s,this._optionChanged(o,s,r,e)}},_setOptions:function(t,e){for(var n=Object.keys(t),i=0;i<n.length;i++){var o=n[i],s=t[o];this._setOption(o,s,e)}return this},_setOption:function(t,e,n){var i=this.options[t];if("disabled"===t)this.options[t]=e,this.widget().toggleClass("oj-disabled",!!e).attr("aria-disabled",e),e&&this._removeStateClasses(this.widget());else{try{var o=null==n?null:n.subkey;null!=o&&(this._settingNestedKey=o),this._super(t,e)}finally{this._settingNestedKey=null}"contextMenu"===t&&this._SetupContextMenu()}return this._optionChanged(t,e,i,n),this},_optionChanged:function(t,e,i,o){var s,r=null,a=!1,l=!1,u=null,c="external",g=null;if(o&&(r=o._context)){if(r.skipEvent)return;u=r.originalEvent,a=void 0===r.writeback?null!=u:r.writeback,l=r.readOnly,g=r.optionMetadata,s=r.extraData,r.internalSet&&(c="internal")}(g=g||{}).writeback=a?"shouldWrite":"shouldNotWrite",l&&(g.readOnly=!0);var h={option:t,previousValue:i,value:e,optionMetadata:g,updatedFrom:c},d=null==o?null:o.subkey;if(d){var p=d.split("."),_=i;p.forEach(function(t){_&&(_=_[t])});var m=o.subproperty;m.previousValue=_,h.subproperty=m}null!=s&&(h=n.extend({},s,h)),this._trigger("optionChange",u,h)},_SetupResources:function(){this._SetupContextMenu()},_ReleaseResources:function(){this._ReleaseContextMenu()},_trigger:function(t,e,n){return this._trigger2(t,e,n).proceed},_trigger2:function(t,e,i){var o=i||{};if(this._IsCustomElement())return this._triggerCustomEvent(t,e,o);var s=this.options[t],r=n.Event(e,f);return r.type=(this.widgetEventPrefix+t).toLowerCase(),r.target=this.element[0],this.element.trigger(r,o),{proceed:!(n.isFunction(s)&&!1===s.apply(this.element[0],[r].concat(o))||r.isDefaultPrevented()),event:r}},_triggerCustomEvent:function(e,i,o){var s,r,a,l={},u=this._getRootElement();if("optionChange"===e){var c=t.CustomElementBridge.getPropertyForAlias(u,o.option);if(!t.CustomElementBridge.isKnownProperty(u,c))return{proceed:!0,event:null};s=t.__AttributeUtils.propertyNameToChangeEventType(c);for(var g=Object.keys(o),h=0;h<g.length;h++){var d=g[h];if("option"!==d)if("optionMetadata"===d)for(var p=Object.keys(o[d]),_=0;_<p.length;_++){var m=p[_];"writeback"!==m&&"component"!==m&&(l[m]=o[d][m])}else l[d]=o[d]}}else{if(s=t.__AttributeUtils.eventTriggerToEventType(e),!t.CustomElementBridge.isKnownEvent(u,s))return{proceed:!0,event:null};r=!0,a=!0,l=this._resolveJQueryObjects(o)}i&&(l.originalEvent=i instanceof n.Event?i.originalEvent:i);var f={detail:l};r&&(f.bubbles=!0),a&&(f.cancelable=!0);var E=new CustomEvent(s,f);return u.dispatchEvent(E),{proceed:!E.defaultPrevented,event:E}},_resolveJQueryObjects:function(e){for(var i=t.CollectionUtils.copyInto({},e),o=Object.keys(i),s=0;s<o.length;s++){var r=o[s],a=i[r];a&&a instanceof n&&(0===a.length?i[r]=null:1===a.length?i[r]=a[0]:i=a.toArray())}return i},_initContextMenuOption:function(t){var e=this.element.attr("contextmenu");this._initialCmDomAttr=e,!e||"contextMenu"in t||this.option("contextMenu",document.getElementById(e),{_context:{internalSet:!0}})},_handleContextMenuGesture:function(e,i,o){if(!this._IsEffectivelyDisabled()){var s;if("OJ-MENU"===e.tagName)s=e;else{var r=t.Components.__GetWidgetConstructor(e,"ojMenu");if(!(s=r&&r("instance")))throw new Error("Invalid JET Menu.")}this._NotifyContextMenuGesture(s,i,o),n(e).is(":visible")&&i.preventDefault()}},_SetupContextMenu:function(){var e=this._GetContextMenu();if(e||(e=this._GetDefaultContextMenu()),e&&void 0===this._contextMenuGestureInit){this._contextMenuGestureInit=e;var n=this;t.GestureUtils.startDetectContextMenuGesture(this.widget()[0],function(t,i){n._handleContextMenuGesture(e,t,i)})}},_ReleaseContextMenu:function(){this._contextMenuGestureInit=void 0,t.GestureUtils.stopDetectContextMenuGesture(this.widget()[0])},_GetContextMenu:function(){if(this._IsCustomElement()){var e=t.BaseCustomElementBridge.getSlotMap(this._getRootElement()).contextMenu;if(e&&e.length>0)return e[0]}else if(this.options.contextMenu)return n(this.options.contextMenu).first()[0];return null},_NotifyContextMenuGesture:function(t,e,n){this._OpenContextMenu(e,n)},_OpenContextMenu:function(e,i,o,s,r){var a=this._GetContextMenu();if(a||(a=this._contextMenuGestureInit&&n(this._contextMenuGestureInit).is(":visible")?this._contextMenuGestureInit:this._GetDefaultContextMenu()),a){var l={mouse:{my:"start top",at:"start bottom",of:e,collision:"flipfit"},touch:{my:"start>40 center",at:"start bottom",of:e,collision:"flipfit"},keyboard:{my:"start top",at:"start bottom",of:"launcher",collision:"flipfit"}},u={launcher:this.element,position:l[i]},c={initialFocus:"menu"},g=r?n.extend(u,o,c):n.extend(!0,u,o,c);if(a.__openingContextMenu=!0,"OJ-MENU"===a.tagName)a.open(e,g,s);else{var h=t.Components.__GetWidgetConstructor(a,"ojMenu");(h&&h("instance")).open(e,g,s);var d=function(t){t.preventDefault()};a.addEventListener("contextmenu",d),window.setTimeout(function(){a.removeEventListener("contextmenu",d)},50)}a.__openingContextMenu=!1}},_GetDefaultContextMenu:function(){return null},_removeStateClasses:function(t){t.removeClass("oj-hover oj-focus oj-focus-highlight oj-active"),t.find(".oj-hover").removeClass("oj-hover"),t.find(".oj-focus").removeClass("oj-focus"),t.find(".oj-focus-highlight").removeClass("oj-focus-highlight"),t.find(".oj-active").removeClass("oj-active")},_isRealMouseEvent:function(){return!t.DomUtils.recentTouchEnd()},_AddHoverable:function(t){var e;n.isPlainObject(t)?e=t.element:(e=t,t={});var i=t.afterToggle||n.noop;e.on("mouseenter"+this.hoverableEventNamespace,this._hoverStartHandler.bind(this,i)).on("mouseleave"+this.hoverableEventNamespace,this._hoverAndActiveEndHandler.bind(this,"oj-hover",i))},_RemoveHoverable:function(t){t&&t.off(this.hoverableEventNamespace)},_AddActiveable:function(e){var i;n.isPlainObject(e)?i=e.element:(i=e,e={});var o=e.afterToggle||n.noop;t.DomUtils.isTouchSupported()&&i.on("touchstart"+this.activeableEventNamespace,this._activeStartHandler.bind(this,o)).on("touchend"+this.activeableEventNamespace+" touchcancel"+this.activeableEventNamespace,this._hoverAndActiveEndHandler.bind(this,"oj-active",o)),i.on("mousedown"+this.activeableEventNamespace,this._activeStartHandler.bind(this,o)).on("mouseup"+this.activeableEventNamespace,this._hoverAndActiveEndHandler.bind(this,"oj-active",o)).on("mouseenter"+this.activeableEventNamespace,this._activeStartHandler.bind(this,o)).on("mouseleave"+this.activeableEventNamespace,this._hoverAndActiveEndHandler.bind(this,"oj-active",o))},_RemoveActiveable:function(t){t&&(t.off(this.activeableEventNamespace),m=null)},_activeStartHandler:function(t,e){var i=n(e.currentTarget);("mouseenter"!==e.type||this._isTargetInActiveElement(e.currentTarget))&&(i.hasClass("oj-disabled")||"touchstart"!==e.type&&!this._isRealMouseEvent(e)||(i.addClass("oj-active"),t(e.type),"mousedown"===e.type&&(m=e.currentTarget,this.document.one("mouseup",function(){m=null}))))},_hoverStartHandler:function(t,e){var i=n(e.currentTarget);!i.hasClass("oj-disabled")&&this._isRealMouseEvent(e)&&(i.addClass("oj-hover"),t(e.type))},_hoverAndActiveEndHandler:function(t,e,i){("oj-active"!==t||"mouseleave"!==i.type||this._isTargetInActiveElement(i.currentTarget))&&(n(i.currentTarget).removeClass(t),e(i.type))},_isTargetInActiveElement:function(t){return m===t||null!=m&&n.contains(m,t)},_hoverable:function(){},_focusable:function(e){n.isPlainObject(e)||(e={element:e}),e.component=this,t.DomUtils.makeFocusable(e)},_UnregisterChildNode:function(t){if(t){n(t).off(this.eventNamespace);var e=this.bindings;e&&(this.bindings=n(e.not(t)))}},_GetReadingDirection:function(){return t.DomUtils.getReadingDirection()},_NotifyAttached:function(){this._propertyContext=null},_NotifyDetached:function(){this._propertyContext=null,this._removeStateClasses(this.widget())},_NotifyInitShown:function(){},_NotifyShown:function(){},_NotifyHidden:function(){},_IsEffectivelyDisabled:function(){return!(!this.options.disabled&&!this._ancestorDisabled)},__setAncestorComponentDisabled:function(t){this._ancestorDisabled=t},_getTranslationSectionLoader:function(){var t=[],i=this,o=0;this._traverseWidgetHierarchy(function(s){var r=0===o?i._GetTranslationsSectionName():s.widgetFullName;o+=1;var a=e.getComponentTranslations(r);null==a||n.isEmptyObject(a)||t.push(r)});var s=t.length;return s>0?function(){if(1===s)return e.getComponentTranslations(t[0]);for(var i={},o=s-1;o>=0;o--)n.widget.extend(i,e.getComponentTranslations(t[o]));return i}:null},_getDynamicPropertyContext:function(){if(!this._propertyContext){var e={};this._propertyContext=e;var n=this.element[0];e.containers=function(e){for(var n=e,i=[];n;){var o=n.getAttribute,s=o?o.call(n,t.Components._OJ_CONTAINER_ATTR):null;null!=s&&i.push(s),n=n.parentNode}return i}(n),e.element=n,e.isCustomElement=this._IsCustomElement()}return this._propertyContext},_setupDefaultOptions:function(t,e){var i=this.options,o=this._getTranslationSectionLoader(),s=e.translations;null==o||void 0!==s&&!n.isPlainObject(s)||E(this,void 0,e.translations,i,"translations",o),this._loadGlobalDefaultOptions(t,e)},_loadGlobalDefaultOptions:function(e,i){var o=this.options,s=[];this._traverseWidgetHierarchy(function(t){s.push(t.widgetName)}),s.push("default");var r=t.Components.__getDefaultOptions(s);if(!n.isEmptyObject(r))for(var a=this,l=function(){return a._getDynamicPropertyContext()},u=Object.keys(r),c=0;c<u.length;c++){var g=u[c],h=i[g];if(void 0===h||n.isPlainObject(h)){var d=r[g];if(d){var p=v(d);if(p)E(this,e[g],h,o,g,p,l);else{var _=[e[g]].concat(d);_.push(h),o[g]=C(_)}}}}},_traverseWidgetHierarchy:function(t){for(var e=this.constructor.prototype;null!=e&&"oj"===e.namespace;)t(e),e=Object.getPrototypeOf(e)},_getRootElement:function(){return this.OuterWrapper||this.element[0]},_IsCustomElement:function(){return null!=t.BaseCustomElementBridge.getRegistered(this._getRootElement().tagName)},_FixRendererContext:function(e){if(this._IsCustomElement()){var n=t.CollectionUtils.copyInto({},e);return delete n.component,n.componentElement=this._getRootElement(),n}return e},_WrapCustomElementRenderer:function(t){return this._IsCustomElement()&&"function"==typeof t?function(e){var n=t(e);return n&&n.insert?n.insert:null}:t},__saveWritebackOptions:function(t){this._writebackOptions=t},_getWritebackOption:function(t){return!(!this._writebackOptions||!this._writebackOptions[t])},__handleSubtreeAttached:function(){this._IsCustomElement()||this._NotifyAttached()},__handleSubtreeDetached:function(){this._IsCustomElement()||this._NotifyDetached()},_VerifyConnectedForSetup:function(){return!1},__handleConnected:function(){this._NotifyAttached(),this.__delayConnectDisconnect(0)||this._SetupResources()},__handleDisconnected:function(){this.__delayConnectDisconnect(1)||this._ReleaseResources(),this._NotifyDetached()},__delayConnectDisconnect:function(t){if(!this._VerifyConnectedForSetup())return!1;if(void 0===this.connectedState){var e=this;Promise.resolve().then(function(){e.connectedState===t&&(0===t?e._SetupResources():e._ReleaseResources()),e.connectedState=void 0})}return this.connectedState=t,!0},__handleWatchedAttribute:function(t,e,n){this._WatchedAttributeChanged(t,e,n)},_WatchedAttributeChanged:function(t,e,n){},__getFocusElement:function(){return this.GetFocusElement()},GetFocusElement:function(){return this.element[0]}}),delete n.fn.baseComponent,t.__registerWidget=function(t,e,i,o){if(n.widget(t,e,i),o){var s=t.split(".")[1];delete n.fn[s]}if("oj.oj"===t.substring(0,5)||"oj._oj"===t.substring(0,6)){var r,a=t.split("."),l=a[0],u=a[1],c=l+"-"+u;r="_"===u.substring(0,1)?"_"+l+"-"+u.substring(3):l+"-"+u.substring(2),n.expr.pseudos[r.toLowerCase()]=function(t){return!!n.data(t,c)}}},t.ComponentMessaging=function(t){this.Init(t)},t.Object.createSubclass(t.ComponentMessaging,t.Object,"oj.ComponentMessaging"),t.ComponentMessaging._DISPLAY_TYPE={NONE:"none",NOTEWINDOW:"notewindow",PLACEHOLDER:"placeholder",INLINE:"inline"},t.ComponentMessaging._DISPLAY_TYPE_TO_CALLBACK={},t.ComponentMessaging.registerMessagingStrategy=function(e,n){e&&"function"==typeof n&&(t.ComponentMessaging._DISPLAY_TYPE_TO_CALLBACK[e]=n)},t.ComponentMessaging.prototype.Init=function(e){t.ComponentMessaging.superclass.Init.call(this),this._component=e,this._activated=!1,this._initializeMessagingStrategies()},t.ComponentMessaging.prototype.activate=function(e,i,o){var s=this;t.Assert.assertObject(o),this._launcher=e,this._contentElement=i,this._messagingContent=t.CollectionUtils.copyInto(this._messagingContent||{},o),this._isActive()?this._reactivate():(n.each(this._strategies,function(t,e){e.activate(s)}),this._activated=!0)},t.ComponentMessaging.prototype.update=function(e){t.Assert.assertObject(e),t.Assert.assertBoolean(this._activated),this._messagingContent=t.CollectionUtils.copyInto(this._messagingContent||{},e),this._activated&&n.each(this._strategies,function(t,n){n.shouldUpdate(e)&&n.update()})},t.ComponentMessaging.prototype.deactivate=function(){n.each(this._strategies,function(t,e){e.deactivate()}),this._activated=!1,this._component=null,this._launcher=null,this._contentElement=null,this._strategies={}},t.ComponentMessaging.prototype.close=function(){this._activated&&n.each(this._strategies,function(t,e){e.close()})},t.ComponentMessaging.prototype._createMessagingStrategy=function(e,n){return new(t.ComponentMessaging._DISPLAY_TYPE_TO_CALLBACK[e]||t.ComponentMessaging._DISPLAY_TYPE_TO_CALLBACK[t.ComponentMessaging._DISPLAY_TYPE.NONE])(n)},t.ComponentMessaging.prototype._getComponent=function(){return this._component||null},t.ComponentMessaging.prototype._getLauncher=function(){return this._launcher||null},t.ComponentMessaging.prototype._getContentElement=function(){return this._contentElement||null},t.ComponentMessaging.prototype._getMessagingContent=function(){return this._messagingContent||{}},t.ComponentMessaging.prototype._isActive=function(){return this._activated},t.ComponentMessaging.prototype._getResolvedMessagingDisplayOptions=function(){for(var e={},i=!1,o=this._component.options.placeholder,s=this._component.options.displayOptions||{},r={},a=Object.keys(s),l=0;l<a.length;l++){var u=a[l],c=s[u];i=!1;var g=u+"";if(Array.isArray(c))for(var h=0;h<c.length;h++){var d=c[h];i||(i=this._resolveDisplayTypeForArtifact(g,d,o,r))}else"string"==typeof c&&(i||(i=this._resolveDisplayTypeForArtifact(g,c,o,r)));i||(r[g]=t.ComponentMessaging._DISPLAY_TYPE.NONE)}return n.each(t.ComponentMessaging._DISPLAY_TYPE,function(t,n){e[n]=[]}),n.each(r,function(t,n){e[n].push(t)}),e},t.ComponentMessaging.prototype._resolveDisplayTypeForArtifact=function(e,n,i,o){var s=!1;switch(n){case t.ComponentMessaging._DISPLAY_TYPE.PLACEHOLDER:"converterHint"===e&&(s||i||(o[e]=n,s=!0));break;case t.ComponentMessaging._DISPLAY_TYPE.INLINE:"messages"===e&&(s||(o[e]=n,s=!0));break;default:s||(o[e]=n,s=!0)}return s},t.ComponentMessaging.prototype._initializeMessagingStrategies=function(){var e=this._getResolvedMessagingDisplayOptions(),n=e[t.ComponentMessaging._DISPLAY_TYPE.NOTEWINDOW],i=e[t.ComponentMessaging._DISPLAY_TYPE.NONE],o=e[t.ComponentMessaging._DISPLAY_TYPE.PLACEHOLDER],s=e[t.ComponentMessaging._DISPLAY_TYPE.INLINE],r={};n.length>0&&(r[t.ComponentMessaging._DISPLAY_TYPE.NOTEWINDOW]=this._createMessagingStrategy(t.ComponentMessaging._DISPLAY_TYPE.NOTEWINDOW,n)),o.length>0&&(r[t.ComponentMessaging._DISPLAY_TYPE.PLACEHOLDER]=this._createMessagingStrategy(t.ComponentMessaging._DISPLAY_TYPE.PLACEHOLDER,o)),s.length>0&&(r[t.ComponentMessaging._DISPLAY_TYPE.INLINE]=this._createMessagingStrategy(t.ComponentMessaging._DISPLAY_TYPE.INLINE,s)),r[t.ComponentMessaging._DISPLAY_TYPE.NONE]=this._createMessagingStrategy(t.ComponentMessaging._DISPLAY_TYPE.NONE,i),this._strategies=r},t.ComponentMessaging.prototype._reactivate=function(){var e,i=this._getResolvedMessagingDisplayOptions(),o=this;n.each(i,function(n,i){n+="",e=o._strategies[n],i&&i.length>0?e?e&&e.reactivate(i):(e=o._createMessagingStrategy(n,i),o._strategies[n]=e,e.activate(o)):e&&t.ComponentMessaging._DISPLAY_TYPE.NONE!==n&&(e.deactivate(),delete o._strategies[n])})},t.MessagingStrategy=function(t){this.Init(t)},t.Object.createSubclass(t.MessagingStrategy,t.Object,"oj.MessagingStrategy"),t.MessagingStrategy.prototype.Init=function(e){t.Assert.assertArray(e),t.MessagingStrategy.superclass.Init.call(this),this._displayOptions=e},t.MessagingStrategy.prototype.activate=function(t){this._componentMessaging=t},t.MessagingStrategy.prototype.deactivate=function(){},t.MessagingStrategy.prototype.close=function(){},t.MessagingStrategy.prototype.reactivate=function(t){this.Init(t)},t.MessagingStrategy.prototype.shouldUpdate=function(t){return!0},t.MessagingStrategy.prototype.update=function(){},t.MessagingStrategy.prototype.GetLauncher=function(){return this._componentMessaging._getLauncher()},t.MessagingStrategy.prototype.GetContentElement=function(){return this._componentMessaging._getContentElement()},t.MessagingStrategy.prototype.GetComponent=function(){return this._componentMessaging._getComponent()},t.MessagingStrategy.prototype.GetMessages=function(){return this.GetValidityState().getMessages()},t.MessagingStrategy.prototype.GetMaxSeverity=function(){return this.GetValidityState().getMaxSeverity()},t.MessagingStrategy.prototype.GetConverterHint=function(){var t=[],e=this._getMessagingContent(),n=e&&e.converterHint;return n&&t.push(n),t},t.MessagingStrategy.prototype.GetValidatorHints=function(){var t=[],e=this._getMessagingContent(),i=e&&e.validatorHint||[];return n.each(i,function(e,n){t.push(n)}),t},t.MessagingStrategy.prototype.GetTitle=function(){var t=this._getMessagingContent();return t&&t.title||""},t.MessagingStrategy.prototype.GetValidityState=function(){var t=this._getMessagingContent();return t&&t.validityState||null},t.MessagingStrategy.prototype.HasMessages=function(){var t=this.GetMessages();return!!(t&&t.length>0)},t.MessagingStrategy.prototype.ShowMessages=function(){return-1!==this._displayOptions.indexOf("messages")},t.MessagingStrategy.prototype.ShowConverterHint=function(){return-1!==this._displayOptions.indexOf("converterHint")},t.MessagingStrategy.prototype.ShowValidatorHint=function(){return-1!==this._displayOptions.indexOf("validatorHint")},t.MessagingStrategy.prototype.ShowTitle=function(){return-1!==this._displayOptions.indexOf("title")||-1!==this._displayOptions.indexOf("helpInstruction")},t.MessagingStrategy.prototype.IsInvalid=function(){return this.GetValidityState().isInvalid()},t.MessagingStrategy.prototype._getMessagingContent=function(){return this._componentMessaging?this._componentMessaging._getMessagingContent():{}},t.DefaultMessagingStrategy=function(t){this.Init(t)},t.ComponentMessaging.registerMessagingStrategy(t.ComponentMessaging._DISPLAY_TYPE.NONE,t.DefaultMessagingStrategy),t.DefaultMessagingStrategy._SELECTOR_STATE_INVALID="oj-invalid",t.DefaultMessagingStrategy._SELECTOR_STATE_WARNING="oj-warning",t.Object.createSubclass(t.DefaultMessagingStrategy,t.MessagingStrategy,"oj.DefaultMessagingStrategy"),t.DefaultMessagingStrategy.prototype.update=function(){t.DefaultMessagingStrategy.superclass.update.call(this);var e=this.GetLauncher(),n=this.GetMaxSeverity(),o=[],s=[],r=!1,a=this.GetComponent().widget();e&&(this.IsInvalid()?(o.push(t.DefaultMessagingStrategy._SELECTOR_STATE_WARNING),s.push(t.DefaultMessagingStrategy._SELECTOR_STATE_INVALID),r=!0):this.HasMessages()&&n===i.SEVERITY_LEVEL.WARNING?(o.push(t.DefaultMessagingStrategy._SELECTOR_STATE_INVALID),s.push(t.DefaultMessagingStrategy._SELECTOR_STATE_WARNING)):(o.push(t.DefaultMessagingStrategy._SELECTOR_STATE_INVALID),o.push(t.DefaultMessagingStrategy._SELECTOR_STATE_WARNING)),a.removeClass(o.join(" ")).addClass(s.join(" ")),this.GetContentElement().attr({"aria-invalid":r}))},t.DefaultMessagingStrategy.prototype.deactivate=function(){this.GetComponent().widget().removeClass(t.DefaultMessagingStrategy._SELECTOR_STATE_INVALID).removeClass(t.DefaultMessagingStrategy._SELECTOR_STATE_WARNING),this.GetContentElement().removeAttr("aria-invalid"),t.DefaultMessagingStrategy.superclass.deactivate.call(this)},t.PlaceholderMessagingStrategy=function(t){this.Init(t)},t.ComponentMessaging.registerMessagingStrategy(t.ComponentMessaging._DISPLAY_TYPE.PLACEHOLDER,t.PlaceholderMessagingStrategy),t.Object.createSubclass(t.PlaceholderMessagingStrategy,t.MessagingStrategy,"oj.PlaceholderMessagingStrategy"),t.PlaceholderMessagingStrategy.prototype.Init=function(e){t.PlaceholderMessagingStrategy.superclass.Init.call(this,e)},t.PlaceholderMessagingStrategy.prototype.activate=function(e){t.PlaceholderMessagingStrategy.superclass.activate.call(this,e),this._refreshPlaceholder()},t.PlaceholderMessagingStrategy.prototype.reactivate=function(e){t.PlaceholderMessagingStrategy.superclass.reactivate.call(this,e),this._refreshPlaceholder()},t.PlaceholderMessagingStrategy.prototype.shouldUpdate=function(t){return!(!t||void 0===t.converterHint)},t.PlaceholderMessagingStrategy.prototype.update=function(){t.PlaceholderMessagingStrategy.superclass.update.call(this),this._refreshPlaceholder()},t.PlaceholderMessagingStrategy.prototype._refreshPlaceholder=function(){var t=this.GetLauncher();if(this.ShowPlaceholderContent()&&t){var e=this.GetConverterHint(),n=e.length?e[0]:"",i={internalMessagingSet:!0};this.GetComponent().option({placeholder:n},{_context:i})}},t.PlaceholderMessagingStrategy.prototype.ShowPlaceholderContent=function(){return this.ShowConverterHint()},t.ComponentValidity=function(t,e){this.Init(t,e)},t.ComponentValidity.isInvalid=function(t){return i.getMaxSeverity(t)>=i.SEVERITY_LEVEL.ERROR},t.Object.createSubclass(t.ComponentValidity,t.Object,"oj.ComponentValidity"),t.ComponentValidity.prototype.Init=function(e,n){t.ComponentValidity.superclass.Init.call(this),this._initialize(e,n)},t.ComponentValidity.prototype.isInvalid=function(){return this._invalid},t.ComponentValidity.prototype.getMessages=function(){return this._messages},t.ComponentValidity.prototype.getMaxSeverity=function(){return this._maxSeverity},t.ComponentValidity.prototype.update=function(t,e){this._initialize(t,e)},t.ComponentValidity.prototype._initialize=function(e,n){this._compValid=e,this._compMessages=n,this._messages=this._getImmediateMessages(),this._maxSeverity=i.getMaxSeverity(this._messages),this._invalid=t.ComponentValidity.isInvalid(this._messages)},t.ComponentValidity.prototype._getImmediateMessages=function(){for(var e=this._compMessages||[],n=[],i=0;i<e.length;i++){var o=e[i];o instanceof t.ComponentMessage&&!o.canDisplay()||n.push(o)}return n},t.CustomElementBridge={},t.CustomElementBridge.proto=Object.create(t.BaseCustomElementBridge.proto),t.CollectionUtils.copyInto(t.CustomElementBridge.proto,{AddComponentMethods:function(e){e.setProperty=function(e,n){var i=t.BaseCustomElementBridge.getInstance(this);i.SaveEarlyPropertySet(e,n)||(i._setEventProperty(this,e,n)||i._validateAndSetCopyProperty(this,e,n,null)||(t.BaseCustomElementBridge.__GetPropertyMetadata(e,t.BaseCustomElementBridge.getProperties(i,this))?t.CustomElementBridge._getPropertyAccessor(this,e)(n):this[e]=n))},e.getProperty=function(e){var n=t.BaseCustomElementBridge.getInstance(this),i=t.BaseCustomElementBridge.__GetPropertyMetadata(e,t.BaseCustomElementBridge.getProperties(n,this));if(t.__AttributeUtils.eventListenerPropertyToEventType(e)||!i)return this[e];var o=i?i.extension:null;return o&&o._COPY_TO_INNER_ELEM?n._getCopyProperty(this,e,i):t.CustomElementBridge._getPropertyAccessor(this,e)()},e.focus=function(){var e=t.BaseCustomElementBridge.getInstance(this);if(e._WIDGET_INSTANCE){var n=e._WIDGET_INSTANCE.__getFocusElement();n&&(n!==this?n.focus():HTMLElement.prototype.focus.call(this))}else HTMLElement.prototype.focus.call(this)},e.blur=function(){var e=t.BaseCustomElementBridge.getInstance(this);if(e._WIDGET_INSTANCE){var n=e._WIDGET_INSTANCE.__getFocusElement();n&&(n!==this?n.blur():HTMLElement.prototype.blur.call(this))}else HTMLElement.prototype.focus.call(this)}},BatchedPropertySet:function(e,n){var i,o=Object.keys(n),s={};for(i=0;i<o.length;i++){var r=o[i],a=n[r];this._setEventProperty(e,r,a)||this._validateAndSetCopyProperty(e,r,a,null)||(a=this.ValidatePropertySet(e,r,a),s[r=this.GetAliasForProperty(r)]=a)}var l=t.Components.__GetWidgetConstructor(this._WIDGET_ELEM);if(l)l("option",s);else for(i=0;i<o.length;i++){var u=o[i];e.setProperty(u,n[u])}},CreateComponent:function(e){var i=this._INNER_DOM_FUNCTION;if(this._WIDGET_ELEM=t.CustomElementBridge._getWidgetElement(e,i?i(e):this._EXTENSION._INNER_ELEM),this._WIDGET_ELEM!==e){for(var o=this._EXTENSION._GLOBAL_TRANSFER_ATTRS||[],s=0;s<o.length;s++){var r=o[s];e.hasAttribute(r)&&(this._WIDGET_ELEM.setAttribute(r,e.getAttribute(r)),this._removingTransfer=!0,e.removeAttribute(r))}this._copyProperties()}t.Components.unmarkPendingSubtreeHidden(e);var a=n(this._WIDGET_ELEM),l=n(this._WIDGET_ELEM)[this._EXTENSION._WIDGET_NAME].bind(a);l(this._PROPS),this._WIDGET=l,this._WIDGET_INSTANCE=l("instance"),this._WRITEBACK_PROPS&&this._WIDGET_INSTANCE.__saveWritebackOptions(this._WRITEBACK_PROPS),e.hasAttribute("disabled")&&!this._disabledProcessed&&t.CustomElementBridge._removeDisabledAttribute(e);var u=function(t){return function(){var n=document.createEvent("UIEvent");n.initEvent(t,!1,!1),e.dispatchEvent(n)}},c=this._WIDGET_INSTANCE.__getFocusElement();c&&c!==e&&(c.addEventListener("focus",u("focus")),c.addEventListener("blur",u("blur"))),this.__READY_TO_FIRE=!0,this.resolveDelayedReadyPromise()},DefineMethodCallback:function(e,n,i){e[n]=function(){var e=t.BaseCustomElementBridge.getInstance(this),o=i.internalName||n;return e._WIDGET.apply(null,[o].concat([].slice.call(arguments)))}},DefinePropertyCallback:function(e,n,i){var o=i.extension;Object.defineProperty(e,n,{enumerable:!0,get:function(){var e=t.BaseCustomElementBridge.getInstance(this);return i._eventListener?e.GetEventListenerProperty(n):o&&o._COPY_TO_INNER_ELEM?e._getCopyProperty(this,n,i):t.CustomElementBridge._getPropertyAccessor(this,n)()},set:function(e){var o=t.BaseCustomElementBridge.getInstance(this);if(!o.SaveEarlyPropertySet(n,e))if(i._eventListener)o.SetEventListenerProperty(this,n,e);else if(!o._validateAndSetCopyProperty(this,n,e,i)){var s={};if(void 0===e&&(s={_context:{skipEvent:!0}},e=o.GetDefaultValue(i),o.__READY_TO_FIRE)){var r=this[n];t.BaseCustomElementBridge.__FirePropertyChangeEvent(this,n,void 0,r,"external")}t.CustomElementBridge._getPropertyAccessor(this,n,s)(e)}}})},GetAttributes:function(e){var n=t.BaseCustomElementBridge.getAttributes(e.properties);return e.extension._GLOBAL_TRANSFER_ATTRS&&(n=n.concat(e.extension._GLOBAL_TRANSFER_ATTRS)),e.extension._WATCHED_ATTRS&&(n=n.concat(e.extension._WATCHED_ATTRS)),n},GetAliasForProperty:function(t){var e=this._EXTENSION._ALIASED_PROPS;return e&&e[t]?e[t]:t},InitializeElement:function(e){t.BaseCustomElementBridge.proto.InitializeElement.call(this,e),this._EXTENSION._CONTROLS_SUBTREE_HIDDEN&&t.Components.markPendingSubtreeHidden(e),t.BaseCustomElementBridge.__InitProperties(e,this._PROPS)},HandleAttributeChanged:function(t,e,n,i){var o=this._EXTENSION._GLOBAL_TRANSFER_ATTRS,s=o&&-1!==o.indexOf(e),r=this._EXTENSION._WATCHED_ATTRS,a=r&&-1!==r.indexOf(e);s&&this._WIDGET_ELEM?this._removingTransfer?this._removingTransfer&&(this._removingTransfer=!1):(this._WIDGET_ELEM.setAttribute(e,i),this._removingTransfer=!0,t.removeAttribute(e)):a&&n!==i&&this._WIDGET_INSTANCE&&this._WIDGET_INSTANCE.__handleWatchedAttribute(e,n,i)},HandleDetached:function(e){t.BaseCustomElementBridge.proto.HandleDetached.call(this,e),t.Components.__GetWidgetConstructor(this._WIDGET_ELEM)&&this._WIDGET_INSTANCE&&this._WIDGET_INSTANCE.__handleDisconnected()},HandleReattached:function(e){t.BaseCustomElementBridge.proto.HandleReattached.call(this,e),this._WIDGET_INSTANCE&&this._WIDGET_INSTANCE.__handleConnected()},InitializeBridge:function(e){t.BaseCustomElementBridge.proto.InitializeBridge.call(this,e);var n=t.BaseCustomElementBridge.__GetDescriptor(e.tagName);this._INNER_DOM_FUNCTION=n.innerDomFunction,this._EXTENSION=this.METADATA.extension||{},this._PROPS=this._EXTENSION._INNER_ELEM||this._INNER_DOM_FUNCTION?{_wrapper:e}:{},this._setupPropertyAccumulator(e,this._PROPS),this._processProperties(e)},_attributeChangedCallback:function(e,n,i){var s=t.BaseCustomElementBridge.getInstance(this);"disabled"===e&&s._disabledProcessed?null!=i&&(o.warn("Ignoring 'disabled' attribute change after component initialization. Use element property setter instead."),t.CustomElementBridge._removeDisabledAttribute(this)):t.BaseCustomElementBridge.proto._attributeChangedCallback.call(this,e,n,i)},_copyProperties:function(){if(this._COPY_ATTRS)for(var e=0;e<this._COPY_ATTRS.length;e++){var n=this._COPY_ATTRS[e],i=t.__AttributeUtils.attributeToPropertyName(n);if(Object.prototype.hasOwnProperty.call(this._PROPS,i)){var o=this._PROPS[i];this._setCopyProperty(n,o),delete this._PROPS[i]}}},_getCopyProperty:function(e,n,i){var o=t.__AttributeUtils.propertyNameToAttribute(n);if(i.extension._ATTRIBUTE_ONLY){if(this._WIDGET_ELEM.hasAttribute(o)){var s,r=this._WIDGET_ELEM.getAttribute(o);try{s=t.__AttributeUtils.coerceValue(e,o,r,i.type)}catch(t){this.throwError(e,t)}return s}return null}return this._WIDGET_ELEM[n]},_processProperties:function(e){var n=t.BaseCustomElementBridge.getProperties(this,e);if(n)for(var i=Object.keys(n),o=0;o<i.length;o++){var s=i[o],r=n[s];r.writeback&&(this._WRITEBACK_PROPS||(this._WRITEBACK_PROPS={}),this._WRITEBACK_PROPS[s]=!0);var a=r.extension;a&&a._COPY_TO_INNER_ELEM&&(this._COPY_ATTRS||(this._COPY_ATTRS=[]),this._COPY_ATTRS.push(s))}},_setCopyProperty:function(t,e){null==e||!1===e?this._WIDGET_ELEM.removeAttribute(t):!0===e?this._WIDGET_ELEM.setAttribute(t,""):this._WIDGET_ELEM.setAttribute(t,e)},_setupPropertyAccumulator:function(e,n){this._WIDGET=function(i,o,s){if("option"===i)return t.BaseCustomElementBridge.__SetProperty(this.GetAliasForProperty.bind(this),n,o,s),n[o];throw this.throwError(e,"Cannot access methods before element is upgraded.")}},_validateAndSetCopyProperty:function(e,n,i,o){var s=t.__AttributeUtils.propertyNameToAttribute(n),r=this._COPY_ATTRS&&-1!==this._COPY_ATTRS.indexOf(s);if(r)if(i=this.ValidatePropertySet(e,n,i),this._WIDGET_ELEM){o||(o=t.BaseCustomElementBridge.__GetPropertyMetadata(n,t.BaseCustomElementBridge.getProperties(this,e)));var a=this._getCopyProperty(e,n,o);this._setCopyProperty(s,i),t.BaseCustomElementBridge.__FirePropertyChangeEvent(e,n,this._getCopyProperty(e,n,o),a,"external")}else this._PROPS[s]=i;return r},_setEventProperty:function(e,n,i){var o=!1;return t.__AttributeUtils.eventListenerPropertyToEventType(n)&&(e[n]=i,o=!0),o}}),t.CustomElementBridge.getMetadata=function(e){return t.CustomElementBridge._METADATA_MAP[e.toLowerCase()]},t.CustomElementBridge.isKnownEvent=function(e,n){var i=t.BaseCustomElementBridge.getInstance(e);return null!=(i.METADATA.events&&i.METADATA.events[n])},t.CustomElementBridge.isKnownProperty=function(e,n){var i=t.BaseCustomElementBridge.getInstance(e);return null!=(i.METADATA.properties&&i.METADATA.properties[n])},t.CustomElementBridge.getPropertyForAlias=function(e,n){var i=t.BaseCustomElementBridge.getInstance(e)._EXTENSION._COMPONENT_TO_ELEMENT_ALIASES;return i&&i[n]?i[n]:n},t.CustomElementBridge.register=function(e,n){var i=n[t.BaseCustomElementBridge.DESC_KEY_META];i=t.BaseCustomElementBridge.__ProcessEventListeners(i),n[t.BaseCustomElementBridge.DESC_KEY_META]=i,t.CustomElementBridge._METADATA_MAP[e.toLowerCase()]=i;var o=i.extension,s=o&&o._WIDGET_NAME?t.CustomElementBridge.proto:t.DefinitionalElementBridge.proto,r=o._ALIASED_PROPS;r&&(o._COMPONENT_TO_ELEMENT_ALIASES={},Object.keys(r).forEach(function(t){o._COMPONENT_TO_ELEMENT_ALIASES[r[t]]=t}));t.BaseCustomElementBridge.__Register(e,n,s)&&customElements.define(e.toLowerCase(),s.getClass(n))},t.CustomElementBridge._getPropertyAccessor=function(e,n,i){return function(o){var s=t.BaseCustomElementBridge.getInstance(e);return 1===arguments.length?(o=s.ValidatePropertySet(e,n,o),n=s.GetAliasForProperty(n),void s._WIDGET("option",n,o,i)):(n=s.GetAliasForProperty(n),s._WIDGET("option",n))}.bind(e)},t.CustomElementBridge._getWidgetElement=function(e,n){var i=e;if(n){var o=e.firstElementChild;if(o&&o.tagName.toLowerCase()===n)i=o;else{i=document.createElement(n);for(var s=[],r=e.childNodes,a=0;a<r.length;a++)s.push(r[a]);for(e.appendChild(i);s.length;){var l=s.shift();t.BaseCustomElementBridge.getSlotAssignment(l)||i.appendChild(l)}}i.setAttribute("data-oj-internal","")}return i},t.CustomElementBridge._removeDisabledAttribute=function(e){t.BaseCustomElementBridge.getInstance(e)._disabledProcessed=!0,e.removeAttribute("disabled")},t.CustomElementBridge._METADATA_MAP={};var S,T,D,P,N,b,I,M=function(){function t(){}return t.isDataProvider=function(t){return!!t.fetchFirst},t.isTreeDataProvider=function(t){return!!t.getChildDataProvider},t}();return t.DataProviderFeatureChecker=M,t.DefinitionalElementBridge={},t.DefinitionalElementBridge.proto=Object.create(t.BaseCustomElementBridge.proto),t.CollectionUtils.copyInto(t.DefinitionalElementBridge.proto,{beforePropertyChangedEvent:function(t,e,n){var i=e,o=n.value;n.subproperty&&(i=n.subproperty.path,o=n.subproperty.value),this._partialRender(t,i,o)},AddComponentMethods:function(e){e.refresh=function(){t.BaseCustomElementBridge.getInstance(this)._fullRender(this)},e.setProperty=function(e,n){var i=t.BaseCustomElementBridge.getInstance(this);i.SaveEarlyPropertySet(e,n)||i.SetProperty(this,e,n,this,!0)},e.getProperty=function(e){return t.BaseCustomElementBridge.getInstance(this).GetProperty(this,e,this)},e._propsProto.setProperty=function(t,e){this._BRIDGE.SetProperty(this._ELEMENT,t,e,this,!1)},e._propsProto.getProperty=function(t){return this._BRIDGE.GetProperty(this,t,this)}},CreateComponent:function(e){t.Components.unmarkPendingSubtreeHidden(e),!this._INSTANCE&&this._EXTENSION._CONSTRUCTOR&&(this._CONTEXT={element:e,props:this._PROPS_PROXY,unique:t.BaseCustomElementBridge.__GetUnique()},this._CONTEXT.uniqueId=e.id?e.id:this._CONTEXT.unique,this._INSTANCE=new this._EXTENSION._CONSTRUCTOR(this._CONTEXT),this._INSTANCE.createDOM&&this._INSTANCE.createDOM(),this._INSTANCE.updateDOM&&this._INSTANCE.updateDOM()),this.__READY_TO_FIRE=!0,this.resolveDelayedReadyPromise()},DefineMethodCallback:function(e,n,i){e[n]=function(){var e=t.BaseCustomElementBridge.getInstance(this);if(e._INSTANCE){var o=i.internalName||n;return e._INSTANCE[o].apply(e._INSTANCE,arguments)}}},DefinePropertyCallback:function(e,n,i){function s(e,s){if(!this._BRIDGE.SaveEarlyPropertySet(n,e)){var r=this._BRIDGE._PROPS[n];t.BaseCustomElementBridge.__CompareOptionValues(n,i,e,r)?o.info(t.BaseCustomElementBridge.getElementInfo(this._ELEMENT)+": Ignoring property set for property '"+n+"' with same value."):(s&&(e=this._BRIDGE.ValidatePropertySet(this._ELEMENT,n,e)),i._eventListener?(this._BRIDGE.SetEventListenerProperty(this._ELEMENT,n,e),this._BRIDGE._PROPS[n]=e):(this._BRIDGE._PROPS[n]=e,t.BaseCustomElementBridge.__FirePropertyChangeEvent(this._ELEMENT,n,e,r,s?"external":"internal")))}}function r(){var t=this._BRIDGE._PROPS[n];return void 0===t&&(t=this._BRIDGE.GetDefaultValue(i),this._BRIDGE._PROPS[n]=t),t}i._derived||t.BaseCustomElementBridge.__DefineDynamicObjectProperty(e._propsProto,n,function(){return r.bind(this)()},function(t){s.bind(this)(t,!1)}),t.BaseCustomElementBridge.__DefineDynamicObjectProperty(e,n,function(){var e=t.BaseCustomElementBridge.getInstance(this);return r.bind(e._PROPS_PROXY)()},function(e){var n=t.BaseCustomElementBridge.getInstance(this);s.bind(n._PROPS_PROXY)(e,!0)})},InitializeElement:function(e){t.BaseCustomElementBridge.proto.InitializeElement.call(this,e),this._EXTENSION._CONTROLS_SUBTREE_HIDDEN&&t.Components.markPendingSubtreeHidden(e),t.BaseCustomElementBridge.__InitProperties(e,e)},InitializePrototype:function(e){t.BaseCustomElementBridge.proto.InitializePrototype.call(this,e),Object.defineProperty(e,"_propsProto",{value:{}})},InitializeBridge:function(e){t.BaseCustomElementBridge.proto.InitializeBridge.call(this,e),this._EXTENSION=this.METADATA.extension||{},this._PROPS={},e._propsProto&&(this._PROPS_PROXY=Object.create(e._propsProto),this._PROPS_PROXY._BRIDGE=this,this._PROPS_PROXY._ELEMENT=e)},_fullRender:function(t){this._INSTANCE&&this._INSTANCE.updateDOM&&this._INSTANCE.updateDOM()},_partialRender:function(t,e,n){if(this._INSTANCE){var i=this._INSTANCE.handlePropertyChanged;(!i||!i(e,n))&&this._INSTANCE.updateDOM&&this._INSTANCE.updateDOM()}}}),t.DomUtils={},t.DomUtils._HTML_START_TAG="<html>",t.DomUtils._HTML_END_TAG="</html>",t.DomUtils._LEGAL_ELEMENTS={SPAN:1,B:1,I:1,EM:1,BR:1,HR:1,LI:1,OL:1,UL:1,P:1,TT:1,BIG:1,SMALL:1,PRE:1},t.DomUtils._LEGAL_ATTRIBUTES={class:1,style:1},t.DomUtils.isHTMLContent=function(e){return 0===e.indexOf(t.DomUtils._HTML_START_TAG)&&e.lastIndexOf(t.DomUtils._HTML_END_TAG)===e.length-7},t.DomUtils.cleanHtml=function(e){var i=n(document.createElement("span")).get(0);return i.innerHTML=e,e&&e.indexOf("<")>=0&&t.DomUtils._cleanElementHtml(i),i},t.DomUtils._cleanElementHtml=function(e){for(var i=e.childNodes,o=i.length-1;o>=0;o--){var s=i.item(o);if(s&&1===s.nodeType)if(t.DomUtils._LEGAL_ELEMENTS[s.nodeName]){for(var r=s.attributes,a=r.length-1;a>=0;a--){var l=r[a];void 0!==n(s).attr(l.name)&&(t.DomUtils._LEGAL_ATTRIBUTES[l.name]||s.removeAttribute(l.nodeName))}t.DomUtils._cleanElementHtml(s)}else s&&e.removeChild(s)}},t.DomUtils.isAncestor=function(t,e){for(var n=e.parentNode;n;){if(n===t)return!0;n=n.parentNode}return!1},t.DomUtils.isAncestorOrSelf=function(e,n){return n===e||t.DomUtils.isAncestor(e,n)},t.DomUtils.addResizeListener=function(e,i,o){var s=n(e),r=s.data(t.DomUtils._RESIZE_TRACKER_KEY);null==r&&(r=new t.DomUtils._ResizeTracker(e),s.data(t.DomUtils._RESIZE_TRACKER_KEY,r),r.start()),r.addListener(i,o)},t.DomUtils.removeResizeListener=function(e,i){var o=n(e),s=o.data(t.DomUtils._RESIZE_TRACKER_KEY);null!=s&&(s.removeListener(i),s.isEmpty()&&(s.stop(),o.removeData(t.DomUtils._RESIZE_TRACKER_KEY)))},t.DomUtils.fixResizeListeners=function(e){n(e).find(".oj-helper-detect-expansion").parent().each(function(e,i){var o=n(i).data(t.DomUtils._RESIZE_TRACKER_KEY);null!=o&&o.init(!0)})},t.DomUtils.isMetaKeyPressed=function(e){var n=t.AgentUtils.getAgentInfo();return t.AgentUtils.OS.MAC===n.os?e.metaKey:e.ctrlKey},t.DomUtils.dispatchEvent=function(t,e){var n="disabled",i=t[n];try{t[n]=!1,t.dispatchEvent(e)}finally{t[n]=i}},t.DomUtils._invokeAfterPaint=(window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(t){return window.setTimeout(t,0)}).bind(window),t.DomUtils._cancelInvokeAfterPaint=(window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||function(t){return window.clearTimeout(t)}).bind(window),t.DomUtils._ResizeTracker=function(e){var i=n.Callbacks(),o=[],s=[],r=2,a=0,l=null,u=null,c=null,g=null,h=null,d=null,p=null;function _(t){var e=!1;if(null!=g.offsetParent){var n=g.offsetWidth,i=g.offsetHeight;u===n&&c===i||(a=r,f(n,i),e=!0,t&&m(!0))}return e}function m(n){var s=e.offsetWidth,r=e.offsetHeight;i.has()&&(n?(null!==l&&t.DomUtils._cancelInvokeAfterPaint(l),l=t.DomUtils._invokeAfterPaint(function(){l=null,i.fire(s,r)})):i.fire(s,r));for(var a=0;a<o.length;a++)o[a].getCallback()(s,r)}function f(t,e){u=t,c=e;var n=g.firstChild.style,i=1;do{n.width=t+i+"px",n.height=e+i+"px",g.scrollLeft=i,g.scrollTop=i,i+=1}while((0===g.scrollTop||0===g.scrollLeft)&&i<=5);h.scrollLeft=t,h.scrollTop=e}this.addListener=function(e,n){void 0===n||0===n?i.add(e):(o.push(new t.DomUtils._collapsingListenerManager(e,n)),s.push(e))},this.removeListener=function(t){var e=s.indexOf(t);e>=0?(s.splice(e,1),o.splice(e,1)[0].stop()):i.remove(t)},this.isEmpty=function(){return!i.has()&&0===s.length},this.start=function(){if(p=function(t){t.stopPropagation(),_(!0)||a>0&&null!=g.offsetParent&&(0===g.scrollLeft||0===g.scrollTop)&&(a-=1,f(u,c))}.bind(this),e.attachEvent)d=function(){m(!1)}.bind(this),e.attachEvent("onresize",d);else{var t=e.childNodes[0];(g=document.createElement("div")).className="oj-helper-detect-expansion";var n=document.createElement("div");g.appendChild(n),null!=t?e.insertBefore(g,t):e.appendChild(g),g.addEventListener("scroll",p,!1),(h=document.createElement("div")).className="oj-helper-detect-contraction";var i=document.createElement("div");i.style.width="200%",i.style.height="200%",h.appendChild(i),e.insertBefore(h,g),h.addEventListener("scroll",p,!1),this.init(!1)}},this.stop=function(){null!=l&&(t.DomUtils._cancelInvokeAfterPaint(l),l=null),null!=g?(g.removeEventListener("scroll",p),h.removeEventListener("scroll",p),g.parentNode&&e.removeChild(g),h.parentNode&&e.removeChild(h)):e.detachEvent("onresize",d)},this.init=function(t){var e=_(t);t&&!e&&null!=g.offsetParent&&f(u,c)}},t.DomUtils._RESIZE_TRACKER_KEY="_ojResizeTracker",t.DomUtils.isValidIdentifier=function(t){return/^[A-Za-z][0-9A-Z_a-z-]*$/.test(t)},t.DomUtils._collapsingListenerManager=function(t,e){var n=null,i=null,o=function(){t.apply(null,n),i=null},s=function(){n=Array.prototype.slice.call(arguments),null==i&&(i=window.setTimeout(o,e))};this.getCallback=function(){return s},this.stop=function(){null!=i&&(window.clearTimeout(i),i=null)}},t.DomUtils.isTouchSupported=function(){return"ontouchstart"in window||navigator.msMaxTouchPoints>0||navigator.maxTouchPoints>0},t.DomUtils.setInKoCleanExternal=function(e){t.DomUtils._koCleanNode=e},t.DomUtils.unwrap=function(e,n){var i=t.DomUtils._koCleanNode;i&&e.get(0)===i||(n?n.replaceWith(e):e.unwrap())},t.DomUtils.isChromeEvent=function(e){function i(e){var i=e.target,o=n(i),s=i.getBoundingClientRect(),r=t.DomUtils.getScrollBarWidth(),a="ltr"===t.DomUtils.getReadingDirection();return!(!a||"HTML"!==i.nodeName&&"visible"===o.css("overflow-x")||!(e.clientX>s.right-r))||(!a&&"HTML"===i.nodeName&&e.clientX>s.left-r||(!a&&"visible"!==o.css("overflow-x")&&e.clientX<s.left+r||("HTML"===i.nodeName||"visible"!==o.css("overflow-y"))&&e.clientY>s.bottom-r))}if(!("clientX"in e&&"clientY"in e))return!1;var o=t.AgentUtils.getAgentInfo();return t.AgentUtils.OS.ANDROID!==o.os&&t.AgentUtils.OS.IOS!==o.os&&(t.AgentUtils.ENGINE.GECKO===o.engine?function(t){try{return!t.originalTarget.localName}catch(t){return!0}}(e):t.AgentUtils.ENGINE.WEBKIT===o.engine||t.AgentUtils.ENGINE.BLINK===o.engine?i(e):t.AgentUtils.BROWSER.IE===o.browser&&i(e))},t.DomUtils.getScrollBarWidth=function(){var e=t.DomUtils._scrollBarWidth;if(n.isNumeric(e))return e;var i=n("<div />");n(document.body).append(i),i.width(50).height(50).css({overflow:"scroll",visibility:"hidden",position:"absolute"});var o=n("<div />");o.height(1),i.append(o);var s=o.width(),r=i.width();return i.remove(),e=r-s,t.DomUtils._scrollBarWidth=e,e},t.DomUtils.getReadingDirection=function(){var t=document.documentElement.getAttribute("dir");return t&&(t=t.toLowerCase()),"rtl"===t?"rtl":"ltr"},t.DomUtils.getScrollLeft=function(e){if("rtl"===t.DomUtils.getReadingDirection()){var n=t.AgentUtils.getAgentInfo().browser;return n===t.AgentUtils.BROWSER.FIREFOX||n===t.AgentUtils.BROWSER.IE||n===t.AgentUtils.BROWSER.EDGE?Math.abs(e.scrollLeft):Math.max(0,e.scrollWidth-e.clientWidth-e.scrollLeft)}return e.scrollLeft},t.DomUtils.setScrollLeft=function(e,n){if("rtl"===t.DomUtils.getReadingDirection()){var i=t.AgentUtils.getAgentInfo().browser;i===t.AgentUtils.BROWSER.FIREFOX?e.scrollLeft=-n:i===t.AgentUtils.BROWSER.IE||i===t.AgentUtils.BROWSER.EDGE?e.scrollLeft=n:e.scrollLeft=Math.max(0,e.scrollWidth-e.clientWidth-n)}else e.scrollLeft=n},t.DomUtils.getCSSLengthAsInt=function(t){if(!isNaN(t))return parseInt(t,10);if(t&&t.length>0&&"auto"!==t){var e=parseInt(t,10);return isNaN(e)&&(e=0),e}return 0},t.DomUtils.getCSSLengthAsFloat=function(t){if(!isNaN(t))return parseFloat(t);if(t&&t.length>0){var e=parseFloat(t);return isNaN(e)&&(e=0),e}return 0},t.DomUtils._LOGICAL_PARENT_DATA="oj-logical-parent",t.DomUtils.getLogicalParent=function(e){if(e)return e.data(t.DomUtils._LOGICAL_PARENT_DATA)},t.DomUtils.setLogicalParent=function(e,n){e&&(null===n?e.removeData(t.DomUtils._LOGICAL_PARENT_DATA):e.data(t.DomUtils._LOGICAL_PARENT_DATA,n))},t.DomUtils.isLogicalAncestorOrSelf=function(e,i){t.Assert.assertDomElement(e),t.Assert.assertDomElement(i);for(var o=i;o;){if(o===e)return!0;var s=t.DomUtils.getLogicalParent(n(o));o=s?s[0]:o.parentNode}return!1},t.DomUtils.validateURL=function(t,e){var n=e||["http:","https:"],i=document.createElement("a");i.href=t;var o=i.protocol;if(null!=o&&(o=o.toLowerCase()),n.indexOf(o)<0)throw new Error(o+" is not a valid URL protocol")},t.DomUtils._supressNativeContextMenu=function(){n(document.body).hasClass("oj-hybrid")&&document.body.addEventListener("contextmenu",function(t){t.preventDefault()},!0)},t.DomUtils._supressNativeContextMenu(),t.DomUtils.PRESS_HOLD_THRESHOLD=750,t.DomUtils.recentTouchEnd=function(){var t=0;function e(){t=Date.now()}return document.addEventListener("touchend",e,!0),document.addEventListener("touchcancel",e,!0),function(){return Date.now()-t<500}}(),t.DomUtils.recentTouchStart=function(){var e=0,n=t.DomUtils.PRESS_HOLD_THRESHOLD+50;return document.addEventListener("touchstart",function(){e=Date.now()},!0),function(){return Date.now()-e<n}}(),t.DomUtils.recentPointer=(T=0,D=t.DomUtils.PRESS_HOLD_THRESHOLD+600,document.addEventListener("mousedown",function(){var e=Date.now();(!S||e>T+t.DomUtils.PRESS_HOLD_THRESHOLD)&&(T=e,S=!1)},!0),document.addEventListener("touchstart",function(){T=Date.now(),S=!0},!0),document.addEventListener("mouseup",function(){T=Date.now(),S=!1},!0),document.addEventListener("touchend",function(){T=Date.now(),S=!1},!0),function(){return Date.now()-T<(S?D:600)}),t.DomUtils.makeFocusable=(P=0,N=(t.ThemeUtils.parseJSONFromFontFamily("oj-focus-config")||{}).focusHighlightPolicy,b=function(e,n){switch(e?e():N){case"all":return!0;case"none":return!1;default:return!(t.DomUtils.recentPointer()||n&&n())}},function(t){var e=t.element,i="ojFocusable";if(t.remove){e.removeClass("oj-focus oj-focus-highlight");var o=e.data(i);if(null==o)return;var s=".ojFocusable"+(""+o).split(",").join(" .ojFocusable");e.off(s).removeData(i)}else{var r=t.afterToggle||n.noop,a=t.applyHighlight?function(e){e.addClass("oj-focus"),b(t.getFocusHighlightPolicy,t.recentPointer)&&e.addClass("oj-focus-highlight"),r("focusin")}:function(t){t.addClass("oj-focus"),r("focusin")};(t.setupHandlers||function(o,s){var r=t.component,a=function(t){o(n(t.currentTarget))},l=function(t){s(n(t.currentTarget))};if(r)r._on(e,{focusin:a,focusout:l});else{var u=P;P+=1;var c=e.data(i);e.data(i,null==c?u:c+","+u);var g={},h=".ojFocusable"+u;g["focusin"+h]=a,g["focusout"+h]=l,e.on(g)}})(a,function(t){t.removeClass("oj-focus oj-focus-highlight"),r("focusout")})}}),t.FocusUtils={},t.FocusUtils._TABBABLE=":tabbable,iframe",t.FocusUtils.containsFocus=function(e){var n=document.activeElement;return!(!e||!n)&&t.DomUtils.isAncestorOrSelf(e,n)},t.FocusUtils.focusElement=function(t){t.focus()},t.FocusUtils.focusFirstTabStop=function(e){var n=t.FocusUtils.getFirstTabStop(e);return n&&t.FocusUtils.focusElement(n),n},t.FocusUtils.isFirstActiveElement=function(e){var i=n(e).find(t.FocusUtils._TABBABLE);if(null==i||0===i.length)return!1;var o=i[0];return document.activeElement===o||o.name===document.activeElement.name&&"radio"===o.type&&"radio"===document.activeElement.type},t.FocusUtils.isLastActiveElement=function(e){var i=n(e).find(t.FocusUtils._TABBABLE);if(null==i||0===i.length)return!1;var o=i[i.length-1];return document.activeElement===o||o.name===document.activeElement.name&&"radio"===o.type&&"radio"===document.activeElement.type},t.FocusUtils.getFirstTabStop=function(e){var i=n(e);if(i.is(t.FocusUtils._TABBABLE))return e;var o=i.find(t.FocusUtils._TABBABLE);if(o&&o.length>0){if(o[0].classList.contains("oj-radio")){var s=o.filter(".oj-selected.oj-radio");return s&&s.length?s[0]:o[0]}return o[0]}return null},t.FocusUtils.getLastTabStop=function(e){var i=n(e).find(t.FocusUtils._TABBABLE);if(i&&i.length>0){if(i[i.length-1].classList.contains("oj-radio")){var o=i.filter(".oj-selected.oj-radio");return o&&o.length?o[o.length-1]:i[i.length-1]}return i[i.length-1]}return null},t.FocusUtils.isFocusable=function(e){return!!n(e).is(":focusable")&&!("A"===e.nodeName&&!e.hasAttribute("tabindex")&&t.AgentUtils.getAgentInfo().browser===t.AgentUtils.BROWSER.SAFARI)},t.GestureUtils={},t.GestureUtils._EVENT_NAMESPACE=".contextMenu",t.GestureUtils.stopDetectContextMenuGesture=function(e){e._clickListener&&(n(e).off(t.GestureUtils._EVENT_NAMESPACE).removeClass("oj-menu-context-menu-launcher")[0].removeEventListener("click",e._clickListener,!0),clearTimeout(e._contextMenuPressHoldTimer),delete e._clickListener,delete e._contextMenuPressHoldTimer)},t.GestureUtils.startDetectContextMenuGesture=function(e,i){var o,s,r,a,l=t.DomUtils.PRESS_HOLD_THRESHOLD,u=!1,c=!1,g=300,h=null,d=t.GestureUtils._EVENT_NAMESPACE,p=!1;function _(t,o,s){if((u=s)&&n(e).one("touchend"+d,function(){p=!0,setTimeout(function(){p=!1},50)}),"touchstart"===h&&"contextmenu"===t.type||"contextmenu"===h&&"touchstart"===t.type||"keydown"===h&&"contextmenu"===t.type)return"keydown"===h&&"contextmenu"===t.type&&t.preventDefault(),h=null,void clearTimeout(a);t.isDefaultPrevented()||t.originalEvent&&t.originalEvent.defaultPrevented||(i(t,o),t.isDefaultPrevented()&&("touchstart"!==t.type&&"contextmenu"!==t.type&&"keydown"!==t.type||(h=t.type,a=setTimeout(function(){h=null},g))))}var m=function(t){u&&(t.preventDefault(),t.stopPropagation(),u=!1)};e._clickListener=m,e.addEventListener("click",m,!0),n(e).on("touchstart"+d+" mousedown"+d,function(t){if("mousedown"!==t.type||!p){if(u=!1,"touchstart"===t.type&&1===t.originalEvent.touches.length){var n=t.originalEvent.touches[0];s=n.pageX,r=n.pageY,c=!0,o=setTimeout(_.bind(void 0,t,"touch",!0),l),e._contextMenuPressHoldTimer=o}return!0}}).on("touchmove"+d,function(t){var e=t.originalEvent.touches[0];return(Math.abs(s-e.pageX)>5||Math.abs(r-e.pageY)>5)&&(c=!1,clearTimeout(o)),!0}).on("touchend"+d+" touchcancel"+d,function(){return c=!1,clearTimeout(o),!0}).on("keydown"+d+" contextmenu"+d,function(t){("contextmenu"===t.type||121===t.which&&t.shiftKey)&&_(t,c?"touch":"keydown"===t.type?"keyboard":"mouse",!1);return!0}),t.DomUtils.isTouchSupported()&&n(e).addClass("oj-menu-context-menu-launcher")},n(document).ready(function(){!function(){var t=document.createElement("div");t.style.border="1px solid",t.style.borderColor="red green",t.style.position="absolute",t.style.top="-999px",t.style.backgroundImage="url(data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACwAAAAAAQABAAACAkQBADs=)";var e=document.body;e.appendChild(t);var n=window.getComputedStyle(t),i=n.backgroundImage;n.borderTopColor!==n.borderRightColor&&(null==i||"none"!==i&&"url (invalid-url:)"!==i)||e.classList.add("oj-hicontrast"),e.removeChild(t)}()}),t.Test={},t.Test.ready=!1,t.Test.domNodeForLocator=function(e){var i=e;if(t.StringUtils.isString(e)){var o=e;try{i=JSON.parse(o)}catch(t){return null}}if(i&&i.element){var s=n(i.element);if(s&&s.length>0){delete i.element;var r=i;return t.Components.getNodeBySubId(s[0],r)}}return null},t.Test.getOpenPopupCount=function(){return t.ZOrderUtils.getOpenPopupCount()},t.Test.findOpenPopups=function(){return t.ZOrderUtils.findOpenPopups()},t.Test.compareStackingContexts=function(e,n){return t.ZOrderUtils.compareStackingContexts(e,n)},n.cleanData=(I=n.cleanData,function(e){for(var n=[],i=0;i<e.length;i++){var o=e[i];if(null==o)break;var s=!1,r=t.Components.__GetWidgetConstructor(o);if(r&&!(s=r("instance")._IsCustomElement())){var a=t.Components.getComponentElementByNode(o);s=a&&t.BaseCustomElementBridge.getRegistered(a.tagName)}s||n.push(o)}n.length>0&&I(n)}),t.Components});