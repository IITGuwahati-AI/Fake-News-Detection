!function(a){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=a();else if("function"==typeof define&&define.amd)define([],a);else{var b;b="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,b.SqlWhereParser=a()}}(function(){var a;return function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}var f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},g=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),h=a("es6-symbol"),i=a("tokenize-this"),j=h("-"),k=1,l=2,m=3,n=e({},j,k),o=function(){function a(b,c,e){d(this,a),this.value=b,this.type=c,this.precedence=e}return g(a,[{key:"toJSON",value:function(){return this.value}},{key:"toString",value:function(){return""+this.value}}]),a}(),p=function(){function a(b){var c=this;d(this,a),b||(b={}),b=Object.assign({},this.constructor.defaultConfig,b),this.tokenizer=new i(b.tokenizer),this.operators={},b.operators.forEach(function(a,b){Object.keys(a).concat(Object.getOwnPropertySymbols(a)).forEach(function(d){c.operators[d]=new o(d,a[d],b)})})}return g(a,[{key:"parse",value:function(a,b){var c=this,d=[],e=[],f=void 0,g=0,h=!1;for(b||(b=this.defaultEvaluator),this.tokenizer.tokenize("("+a+")",function(a,i){if(g++,"string"!=typeof a||i)e.push(a),h=!1;else{var k=a.toUpperCase();if(c.operators[k]){if("BETWEEN"===f&&"AND"===k)return void(f="AND");for("-"!==k||1!==g&&!h||(k=j);d[d.length-1]&&"("!==d[d.length-1]&&c.operatorPrecedenceFromValues(k,d[d.length-1]);){for(var l=c.operators[d.pop()],m=[],n=l.type;n--;)m.unshift(e.pop());e.push(b(l.value,m))}d.push(k),f=k,h=!0}else if("("===a)d.push(a),h=!0;else if(")"===a){for(;d.length&&"("!==d[d.length-1];){for(var o=c.operators[d.pop()],p=[],q=o.type;q--;)p.unshift(e.pop());e.push(b(o.value,p))}if(!d.length)throw new SyntaxError("Unmatched parenthesis.");d.pop(),h=!1}else e.push(a),h=!1}});d.length;){var i=d.pop();if("("===i)throw new SyntaxError("Unmatched parenthesis.");for(var k=this.operators[i],l=[],m=k.type;m--;)l.unshift(e.pop());e.push(b(k.value,l))}if(e.length>1)throw new SyntaxError("Could not reduce to a single expression.");return e[0]}},{key:"toArray",value:function(a){var b=this,c=[],d=0,e=void 0,f=[];for(this.tokenizer.tokenize("("+a+")",function(a,g){switch(d++,a){case"(":f.push(c.length);break;case")":for(var h=f.pop(),i=c.splice(h,c.length);i&&i.constructor===Array&&1===i.length;)i=i[0];c.push(i);break;case"":break;case",":break;default:var k=null;g||(k=b.getOperator(a),"-"===a&&(1===d||"("===e||e&&e.constructor===o)&&(k=b.getOperator(j))),c.push(k?k:a)}e=a});c&&c.constructor===Array&&1===c.length;)c=c[0];return c}},{key:"operatorPrecedenceFromValues",value:function(a,b){return this.operators[b].precedence<=this.operators[a].precedence}},{key:"getOperator",value:function(a){return"string"==typeof a?this.operators[a.toUpperCase()]:"symbol"===("undefined"==typeof a?"undefined":f(a))?this.operators[a]:null}},{key:"defaultEvaluator",value:function(a,b){return a===j&&(a="-"),","===a?[].concat(b[0],b[1]):e({},a,b)}}],[{key:"defaultConfig",get:function(){return{operators:[{"!":k},n,{"^":l},{"*":l,"/":l,"%":l},{"+":l,"-":l},{"=":l,"<":l,">":l,"<=":l,">=":l,"!=":l},{",":l},{NOT:k},{BETWEEN:m,IN:l,IS:l,LIKE:l},{AND:l},{OR:l}],tokenizer:{shouldTokenize:["(",")",",","*","/","%","+","-","=","!=","!","<",">","<=",">=","^"],shouldMatch:['"',"'","`"],shouldDelimitBy:[" ","\n","\r","\t"]}}}},{key:"Operator",get:function(){return o}},{key:"OPERATOR_UNARY_MINUS",get:function(){return j}}]),a}();b.exports=p},{"es6-symbol":2,"tokenize-this":20}],2:[function(a,b,c){"use strict";b.exports=a("./is-implemented")()?Symbol:a("./polyfill")},{"./is-implemented":3,"./polyfill":18}],3:[function(a,b,c){"use strict";var d={object:!0,symbol:!0};b.exports=function(){var a;if("function"!=typeof Symbol)return!1;a=Symbol("test symbol");try{String(a)}catch(a){return!1}return!!d[typeof Symbol.iterator]&&!!d[typeof Symbol.toPrimitive]&&!!d[typeof Symbol.toStringTag]}},{}],4:[function(a,b,c){"use strict";b.exports=function(a){return!!a&&("symbol"==typeof a||!!a.constructor&&"Symbol"===a.constructor.name&&"Symbol"===a[a.constructor.toStringTag])}},{}],5:[function(a,b,c){"use strict";var d,e=a("es5-ext/object/assign"),f=a("es5-ext/object/normalize-options"),g=a("es5-ext/object/is-callable"),h=a("es5-ext/string/#/contains");d=b.exports=function(a,b){var c,d,g,i,j;return arguments.length<2||"string"!=typeof a?(i=b,b=a,a=null):i=arguments[2],null==a?(c=g=!0,d=!1):(c=h.call(a,"c"),d=h.call(a,"e"),g=h.call(a,"w")),j={value:b,configurable:c,enumerable:d,writable:g},i?e(f(i),j):j},d.gs=function(a,b,c){var d,i,j,k;return"string"!=typeof a?(j=c,c=b,b=a,a=null):j=arguments[3],null==b?b=void 0:g(b)?null==c?c=void 0:g(c)||(j=c,c=void 0):(j=b,b=c=void 0),null==a?(d=!0,i=!1):(d=h.call(a,"c"),i=h.call(a,"e")),k={get:b,set:c,configurable:d,enumerable:i},j?e(f(j),k):k}},{"es5-ext/object/assign":6,"es5-ext/object/is-callable":9,"es5-ext/object/normalize-options":13,"es5-ext/string/#/contains":15}],6:[function(a,b,c){"use strict";b.exports=a("./is-implemented")()?Object.assign:a("./shim")},{"./is-implemented":7,"./shim":8}],7:[function(a,b,c){"use strict";b.exports=function(){var a,b=Object.assign;return"function"==typeof b&&(a={foo:"raz"},b(a,{bar:"dwa"},{trzy:"trzy"}),a.foo+a.bar+a.trzy==="razdwatrzy")}},{}],8:[function(a,b,c){"use strict";var d=a("../keys"),e=a("../valid-value"),f=Math.max;b.exports=function(a,b){var c,g,h,i=f(arguments.length,2);for(a=Object(e(a)),h=function(d){try{a[d]=b[d]}catch(a){c||(c=a)}},g=1;g<i;++g)b=arguments[g],d(b).forEach(h);if(void 0!==c)throw c;return a}},{"../keys":10,"../valid-value":14}],9:[function(a,b,c){"use strict";b.exports=function(a){return"function"==typeof a}},{}],10:[function(a,b,c){"use strict";b.exports=a("./is-implemented")()?Object.keys:a("./shim")},{"./is-implemented":11,"./shim":12}],11:[function(a,b,c){"use strict";b.exports=function(){try{return Object.keys("primitive"),!0}catch(a){return!1}}},{}],12:[function(a,b,c){"use strict";var d=Object.keys;b.exports=function(a){return d(null==a?a:Object(a))}},{}],13:[function(a,b,c){"use strict";var d=Array.prototype.forEach,e=Object.create,f=function(a,b){var c;for(c in a)b[c]=a[c]};b.exports=function(a){var b=e(null);return d.call(arguments,function(a){null!=a&&f(Object(a),b)}),b}},{}],14:[function(a,b,c){"use strict";b.exports=function(a){if(null==a)throw new TypeError("Cannot use null or undefined");return a}},{}],15:[function(a,b,c){"use strict";b.exports=a("./is-implemented")()?String.prototype.contains:a("./shim")},{"./is-implemented":16,"./shim":17}],16:[function(a,b,c){"use strict";var d="razdwatrzy";b.exports=function(){return"function"==typeof d.contains&&d.contains("dwa")===!0&&d.contains("foo")===!1}},{}],17:[function(a,b,c){"use strict";var d=String.prototype.indexOf;b.exports=function(a){return d.call(this,a,arguments[1])>-1}},{}],18:[function(a,b,c){"use strict";var d,e,f,g,h=a("d"),i=a("./validate-symbol"),j=Object.create,k=Object.defineProperties,l=Object.defineProperty,m=Object.prototype,n=j(null);if("function"==typeof Symbol){d=Symbol;try{String(d()),g=!0}catch(a){}}var o=function(){var a=j(null);return function(b){for(var c,d,e=0;a[b+(e||"")];)++e;return b+=e||"",a[b]=!0,c="@@"+b,l(m,c,h.gs(null,function(a){d||(d=!0,l(this,c,h(a)),d=!1)})),c}}();f=function(a){if(this instanceof f)throw new TypeError("TypeError: Symbol is not a constructor");return e(a)},b.exports=e=function a(b){var c;if(this instanceof a)throw new TypeError("TypeError: Symbol is not a constructor");return g?d(b):(c=j(f.prototype),b=void 0===b?"":String(b),k(c,{__description__:h("",b),__name__:h("",o(b))}))},k(e,{for:h(function(a){return n[a]?n[a]:n[a]=e(String(a))}),keyFor:h(function(a){var b;i(a);for(b in n)if(n[b]===a)return b}),hasInstance:h("",d&&d.hasInstance||e("hasInstance")),isConcatSpreadable:h("",d&&d.isConcatSpreadable||e("isConcatSpreadable")),iterator:h("",d&&d.iterator||e("iterator")),match:h("",d&&d.match||e("match")),replace:h("",d&&d.replace||e("replace")),search:h("",d&&d.search||e("search")),species:h("",d&&d.species||e("species")),split:h("",d&&d.split||e("split")),toPrimitive:h("",d&&d.toPrimitive||e("toPrimitive")),toStringTag:h("",d&&d.toStringTag||e("toStringTag")),unscopables:h("",d&&d.unscopables||e("unscopables"))}),k(f.prototype,{constructor:h(e),toString:h("",function(){return this.__name__})}),k(e.prototype,{toString:h(function(){return"Symbol ("+i(this).__description__+")"}),valueOf:h(function(){return i(this)})}),l(e.prototype,e.toPrimitive,h("",function(){var a=i(this);return"symbol"==typeof a?a:a.toString()})),l(e.prototype,e.toStringTag,h("c","Symbol")),l(f.prototype,e.toStringTag,h("c",e.prototype[e.toStringTag])),l(f.prototype,e.toPrimitive,h("c",e.prototype[e.toPrimitive]))},{"./validate-symbol":19,d:5}],19:[function(a,b,c){"use strict";var d=a("./is-symbol");b.exports=function(a){if(!d(a))throw new TypeError(a+" is not a symbol");return a}},{"./is-symbol":4}],20:[function(b,c,d){(function(e){!function(b){if("object"==typeof d&&"undefined"!=typeof c)c.exports=b();else if("function"==typeof a&&a.amd)a([],b);else{var f;f="undefined"!=typeof window?window:"undefined"!=typeof e?e:"undefined"!=typeof self?self:this,f.TokenizeThis=b()}}(function(){return function a(c,d,e){function f(h,i){if(!d[h]){if(!c[h]){var j="function"==typeof b&&b;if(!i&&j)return j(h,!0);if(g)return g(h,!0);var k=new Error("Cannot find module '"+h+"'");throw k.code="MODULE_NOT_FOUND",k}var l=d[h]={exports:{}};c[h][0].call(l.exports,function(a){var b=c[h][1][a];return f(b?b:a)},l,l.exports,a,c,d,e)}return d[h].exports}for(var g="function"==typeof b&&b,h=0;h<e.length;h++)f(e[h]);return f}({1:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f="modeNone",g="modeDefault",h="modeMatch",i=function(a,b){return a.length>b.length?-1:a.length<b.length?1:0},j=function(){function a(b,c,e){d(this,a),this.factory=b,this.str=c,this.forEachToken=e,this.previousChr="",this.toMatch="",this.currentToken="",this.modeStack=[f]}return e(a,[{key:"getCurrentMode",value:function(){return this.modeStack[this.modeStack.length-1]}},{key:"setCurrentMode",value:function(a){return this.modeStack.push(a)}},{key:"completeCurrentMode",value:function(){var a=this.getCurrentMode();return a===g&&this.pushDefaultModeTokenizables(),(a===h&&""===this.currentToken||""!==this.currentToken)&&this.push(this.currentToken),this.currentToken="",this.modeStack.pop()}},{key:"push",value:function(a){var b="";if(this.factory.convertLiterals&&this.getCurrentMode()!==h)switch(a.toLowerCase()){case"null":a=null;break;case"true":a=!0;break;case"false":a=!1;break;default:isFinite(a)&&(a=Number(a))}else b=this.toMatch;this.forEachToken&&this.forEachToken(a,b)}},{key:"tokenize",value:function(){for(var a=0;a<this.str.length;)this.consume(this.str.charAt(a++));for(;this.getCurrentMode()!==f;)this.completeCurrentMode()}},{key:"consume",value:function(a){this[this.getCurrentMode()](a),this.previousChr=a}},{key:f,value:function(a){return this.factory.matchMap[a]?(this.setCurrentMode(h),void(this.toMatch=a)):(this.setCurrentMode(g),this.consume(a))}},{key:g,value:function(a){return this.factory.delimiterMap[a]?this.completeCurrentMode():this.factory.matchMap[a]?(this.completeCurrentMode(),this.consume(a)):(this.currentToken+=a,this.currentToken)}},{key:"pushDefaultModeTokenizables",value:function(){for(var a=0,b=1/0,c=null;this.currentToken&&a<this.factory.tokenizeList.length;){var d=this.factory.tokenizeList[a++],e=this.currentToken.indexOf(d);e!==-1&&e<b&&(b=e,c=d)}if(c)return b>0&&this.push(this.currentToken.substring(0,b)),b!==-1?(this.push(c),this.currentToken=this.currentToken.substring(b+c.length),this.pushDefaultModeTokenizables()):void 0}},{key:h,value:function(a){if(a===this.toMatch){if(this.previousChr!==this.factory.escapeCharacter)return this.completeCurrentMode();this.currentToken=this.currentToken.substring(0,this.currentToken.length-1)}return this.currentToken+=a,this.currentToken}}]),a}(),k=function(){function a(b){var c=this;d(this,a),b||(b={}),b=Object.assign({},this.constructor.defaultConfig,b),this.convertLiterals=b.convertLiterals,this.escapeCharacter=b.escapeCharacter,this.tokenizeList=[],this.tokenizeMap={},this.matchList=[],this.matchMap={},this.delimiterList=[],this.delimiterMap={},b.shouldTokenize.sort(i).forEach(function(a){c.tokenizeMap[a]||(c.tokenizeList.push(a),c.tokenizeMap[a]=a)}),b.shouldMatch.forEach(function(a){c.matchMap[a]||(c.matchList.push(a),c.matchMap[a]=a)}),b.shouldDelimitBy.forEach(function(a){c.delimiterMap[a]||(c.delimiterList.push(a),c.delimiterMap[a]=a)})}return e(a,[{key:"tokenize",value:function(a,b){var c=new j(this,a,b);return c.tokenize()}}],[{key:"defaultConfig",get:function(){return{shouldTokenize:["(",")",",","*","/","%","+","-","=","!=","!","<",">","<=",">=","^"],shouldMatch:['"',"'","`"],shouldDelimitBy:[" ","\n","\r","\t"],convertLiterals:!0,escapeCharacter:"\\"}}}]),a}();b.exports=k},{}]},{},[1])(1)})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[1])(1)});